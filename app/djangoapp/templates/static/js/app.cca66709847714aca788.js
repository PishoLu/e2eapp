webpackJsonp([1],{"09yM":function(e,t){},JLih:function(e,t){},L7LE:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=s("VU/8")({name:"App"},i,!1,function(e){s("JLih")},null,null).exports,o=s("/ocq"),n={name:"friend",data:function(){return{count:20,loading:!1,logging_in:234234234,message_num:10,message_list:[{fromUserid:23423434,toUserid:234234234,date:"2019年12月30日15:37:31",plaintext:"testmessage1"},{fromUserid:23423434,toUserid:234234234,date:"2019年12月30日15:37:32",plaintext:"testmessage2"},{fromUserid:23423434,toUserid:234234234,date:"2019年12月30日15:37:32",plaintext:"testmessage2"},{fromUserid:23423434,toUserid:234234234,date:"2019年12月30日15:37:32",plaintext:"testmessage2"},{fromUserid:23423434,toUserid:234234234,date:"2019年12月30日15:37:32",plaintext:"testmessage2"},{fromUserid:23423434,toUserid:234234234,date:"2019年12月30日15:37:32",plaintext:"testmessage2"},{fromUserid:23423434,toUserid:234234234,date:"2019年12月30日15:37:32",plaintext:"testmessage2"},{fromUserid:23423434,toUserid:234234234,date:"2019年12月30日15:37:32",plaintext:"testmessage2"},{fromUserid:234234234,toUserid:23423434,date:"2019年12月30日15:37:33",plaintext:"testmessage3"},{fromUserid:234234234,toUserid:23423434,date:"2019年12月30日15:37:33",plaintext:"testmessage3"},{fromUserid:234234234,toUserid:23423434,date:"2019年12月30日15:37:33",plaintext:"testmessage3"},{fromUserid:234234234,toUserid:23423434,date:"2019年12月30日15:37:33",plaintext:"testmessage3"},{fromUserid:234234234,toUserid:23423434,date:"2019年12月30日15:37:33",plaintext:"testmessage3"},{fromUserid:234234234,toUserid:23423434,date:"2019年12月30日15:37:33",plaintext:"testmessage3"},{fromUserid:234234234,toUserid:23423434,date:"2019年12月30日15:37:33",plaintext:"testmessage3"}],search_input:"",msg_input:"",dialogFormVisible:!1,friends_list:[{id:23424234,username:"test",last_ip:"",last_port:0},{id:23423423,username:"test2",last_ip:"",last_port:0}],search_result:[{id:234234234,username:"test3",last_ip:"",last_port:0},{id:234234123,username:"test4",last_ip:"",last_port:0}],cruent_obj_id:0}},created:function(){this.$cookies.get("logining_userid")},computed:{},methods:{send_message:function(){this.list.push(this.inputmsg),this.inputmsg=""},excheng_obj:function(e){console.log(e),this.cruent_obj_id=e},search_friend:function(){this.dialogFormVisible=!0},add_friend:function(e){}},watch:{cruent_obj_id:function(e,t){console.log("watch me")}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("el-dialog",{attrs:{title:"搜索结果",visible:e.dialogFormVisible,"modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-row",[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"search_table_title"},[e._v("ID")])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"search_table_title"},[e._v("Username")])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"search_table_title"})])],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-divider")],1)],1),e._v(" "),e._l(e.search_result,function(t,r){return s("el-row",{key:r},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"search_table_itme"},[e._v(e._s(t.id))])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"search_table_itme"},[e._v(e._s(t.username))])]),e._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"search_table_itme"},[s("el-button",{attrs:{type:"primary"},on:{click:function(s){return e.add_friend(t.id)}}},[e._v("添加")])],1)]),e._v(" "),s("el-col",{attrs:{span:24}},[s("el-divider")],1)],1)})],2),e._v(" "),s("div",{attrs:{id:"left"}},[s("div",{staticClass:".col-md-3",attrs:{id:"search_line"}},[s("el-input",{attrs:{placeholder:"请输入内容",required:"required",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search_friend(t)}},model:{value:e.search_input,callback:function(t){e.search_input=t},expression:"search_input"}})],1),e._v(" "),s("div",{attrs:{id:"friends_list"}},[s("el-row",{staticClass:"tac"},[s("el-col",{attrs:{span:24}},[s("el-menu",{staticClass:"el-menu",attrs:{"default-active":"1","default-open":"1","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},e._l(e.friends_list,function(t,r){return s("el-menu-item-group",{key:r},[s("el-menu-item",{staticClass:"friend-item",on:{click:function(s){return e.excheng_obj(t.id)}}},[e._v(e._s(t.username))])],1)}),1)],1)],1)],1)]),e._v(" "),s("div",{attrs:{id:"right"}},[e.cruent_obj_id?s("div",{attrs:{id:"show_window"}},[s("div",{attrs:{id:"show_message"}},e._l(e.message_list,function(t,r){return s("el-row",{key:r},[t.toUserid==e.logging_in?s("el-col",{attrs:{span:24}},[s("div",{staticClass:"show_message_date"},[e._v(e._s(t.date))])]):e._e(),e._v(" "),t.fromUserid==e.logging_in?s("el-col",{attrs:{span:24}},[s("div",{staticClass:"show_message_date_self"},[e._v(e._s(t.date))])]):e._e(),e._v(" "),t.toUserid==e.logging_in?s("el-col",{attrs:{span:24}},[s("div",{staticClass:"show_message_text"},[e._v(e._s(t.plaintext))])]):e._e(),e._v(" "),t.fromUserid==e.logging_in?s("el-col",{attrs:{span:24}},[s("div",{staticClass:"show_message_text_self"},[e._v(e._s(t.plaintext))])]):e._e()],1)}),1),e._v(" "),s("div",{attrs:{id:"input_box"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.msg_input,expression:"msg_input"}],attrs:{type:"textarea",id:"textarea_box",name:"",cols:"50",placeholder:"在这里输入",autofocus:""},domProps:{value:e.msg_input},on:{input:function(t){t.target.composing||(e.msg_input=t.target.value)}}}),e._v(" "),s("div",{attrs:{id:"submit_button"}},[s("el-button",{attrs:{type:"primary",id:"button"},on:{click:function(t){return e.send_message()}}},[e._v("发送")])],1)])]):e._e()])],1)},staticRenderFns:[]};var d=s("VU/8")(n,l,!1,function(e){s("bhMV")},"data-v-aee1c3f8",null).exports,u=s("Muz9"),c=s.n(u),m=s("e9Q/"),p=s.n(m),_={data:function(){return{isreg:0,erroralert:0,ruleForm:{userid:"",password:""},ruleFromReg:{username:"",password:"",IdentityPub:"",SignedPub:"",OneTimePub:"",Port:8e3}}},created:function(){this.$cookies.set("logining_userid","test"),this.$cookies.get("logining_userid")&&this.$router.push("/index")},methods:{login:function(){this.isreg=0,this.ruleFromReg.username="",this.ruleFromReg.password="",this.ruleForm.userid="",this.ruleForm.password=""},regis:function(){this.isreg=1,this.ruleForm.userid="",this.ruleForm.password="",this.ruleFromReg.username="",this.ruleFromReg.password=""},Login:function(){var e=this;c.a.post("http://127.0.0.1:8888/apis/user/"+this.ruleForm.userid,{password:p()(this.ruleForm.password)}).then(function(t){console.log(t.data),t.data.code?(e.$cookies.set("logining_userid",e.ruleForm.userid),console.log(e.$cookies),e.erroralert=0,e.$router.push("/index")):e.erroralert=1})},Register:function(){var e=this;c.a.post("http://127.0.0.1:8000/apis/create_new_keyspair/",{headers:{"Content-Type":"application/json"}}).then(function(t){var s=t.data.data;console.log(t.data.data),e.ruleFromReg.IdentityPub=s.IdentityPub,e.ruleFromReg.SignedPub=s.SignedPub,e.ruleFromReg.OneTimePub=s.OneTimePub,c.a.post("http://127.0.0.1:8888/apis/user/",{username:e.ruleFromReg.username,password:p()(e.ruleFromReg.password),IdentityPub:e.ruleFromReg.IdentityPub,SignedPub:e.ruleFromReg.SignedPub,OneTimePub:e.ruleFromReg.OneTimePub,last_port:e.ruleFromReg.Port}).then(function(t){if(console.log(t.data),t.data.code){var s=e.$createElement;e.$notify({title:"注册成功的ID",message:s("i",{style:"color: teal"},t.data.data),duration:0}),e.isreg=0,e.ruleForm.userid="",e.ruleForm.password="",e.ruleFromReg.username="",e.ruleFromReg.password=""}else{var r=e.$createElement;e.$notify({title:"注册失败！",message:r("i",{style:"color: teal"},t.data["请重新注册"])})}})})}}},g={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-container"},[e.isreg?s("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-page",attrs:{model:e.ruleFromReg,"status-icon":"","label-position":"left","label-width":"0px"}},[s("el-button",{staticClass:"login-button-left",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),e._v(" "),s("el-button",{staticClass:"login-button-right",attrs:{type:"primary"},on:{click:e.regis}},[e._v("注册")]),e._v(" "),s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"用户名",required:"required"},model:{value:e.ruleFromReg.username,callback:function(t){e.$set(e.ruleFromReg,"username",t)},expression:"ruleFromReg.username"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码",required:"required"},model:{value:e.ruleFromReg.password,callback:function(t){e.$set(e.ruleFromReg,"password",t)},expression:"ruleFromReg.password"}})],1),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"}},[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.Register}},[e._v("注册")])],1)],1):s("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-page",attrs:{model:e.ruleForm,"status-icon":"","label-position":"left","label-width":"0px"}},[s("el-button",{staticClass:"login-button-left",attrs:{type:"primary"},nativeOn:{click:function(t){return e.login(t)}}},[e._v("登录")]),e._v(" "),s("el-button",{staticClass:"login-button-right",attrs:{type:"primary"},nativeOn:{click:function(t){return e.regis(t)}}},[e._v("注册")]),e._v(" "),s("el-form-item",{attrs:{prop:"userid"}},[s("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请使用注册成功的ID登录",required:"required"},model:{value:e.ruleForm.userid,callback:function(t){e.$set(e.ruleForm,"userid",t)},expression:"ruleForm.userid"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码",required:"required"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.erroralert,expression:"erroralert"}],attrs:{title:"登录失败！",type:"error"}}),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"}},[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.Login}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]};var f=s("VU/8")(_,g,!1,function(e){s("L7LE")},"data-v-779665c8",null).exports;r.default.use(o.a);var v=new o.a({mode:"history",routes:[{path:"/",name:"Login",component:f},{path:"/index",name:"Index",component:d}]}),h=s("TcQY"),b=s.n(h),w=(s("09yM"),s("6Lj2")),F=s.n(w);r.default.use(F.a),r.default.use(b.a),new r.default({el:"#app",router:v,components:{App:a},template:"<App/>"})},bhMV:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.cca66709847714aca788.js.map