{"version":3,"sources":["webpack:///./src/App.vue?e099","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/Index.vue","webpack:///./src/components/Index.vue?228c","webpack:///./src/components/Index.vue","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?39e3","webpack:///./src/components/Login.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","_axios_0_19_0_axios_default","a","defaults","withCredentials","Index","data","count","message_loading","loading","logining_userid","message_list","search_input","msg_input","dialogFormVisible","friendsList","userid","username","remark","status","search_result","current_obj_id","is_friend","csrftoken","res_data","not_firend_active","temp_fromUserid","created","$cookies","get","friendsList_flash","$router","push","computed","methods","send_message","_this","asyncToGenerator_default","regenerator_default","mark","_callee","wrap","_context","prev","next","message_get","then","response","post","plaintext","toUserid","fromUserid","ciphertext","kdf_next","EphemeralPub","message_list_flash","$notify","error","title","message","get_data","IdentityPub","SignedPub","OneTimePub","stop","_this2","i","length","int","post_data","type","excheng_obj","_this3","headers","search_friend","_this4","parseInt","_this5","show_friend_option","index","add_friend","fri_item","_this6","update_friend","_this7","put","delete_friend","_this8","delete","watch","val","newval","components_Index","_vm","visible","modal-append-to-body","on","update:visible","$event","span","staticClass","_v","_l","item","key","_s","disabled","click","placeholder","required","clearable","nativeOn","keyup","indexOf","_k","keyCode","model","value","callback","$$v","expression","default-active","default-open","background-color","text-color","active-text-color","icon","circle","not_friend_active","_e","date","directives","rawName","cols","autofocus","domProps","input","target","composing","src_components_Index","Index_normalizeComponent","components_Login","isreg","FormLogin","password","FormReg","IdentityPri","SignedPri","OneTimePri","EphemeralPri","FormPrikey","keys","login","regis","Login","sha256_default","set","updated_pri","username_t","Register","pubs","h","style","duration","selectortype_template_index_0_src_components_Login","label","autocomplete","$set","slot","ref","status-icon","label-position","label-width","prop","auto-complete","staticStyle","width","src_components_Login","Login_normalizeComponent","Vue","use","Router","router","mode","routes","path","component","VueCookies","ElementUI","el","components","App","template","prototype","axios","friends_list_flash","friends_list"],"mappings":"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","file":"static/js/app.7fe6058011db8ff338c9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a738d64\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a738d64\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a738d64\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n*{\nmargin:0;\npadding: 0;\n}\n.el-textarea .el-textarea__inner{ \n  resize: none;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div id=\"app\">\n    <el-dialog\n      title=\"搜索结果\"\n      :visible.sync=\"dialogFormVisible\"\n      :modal-append-to-body=\"false\"\n    >\n      <el-row v-if=\"!search_result.length\">\n        <el-col :span=\"24\">\n          <div class=\"search_table_title\">没有该用户相关信息</div>\n        </el-col>\n      </el-row>\n      <el-row v-else>\n        <el-col :span=\"8\">\n          <div class=\"search_table_title\">ID</div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"search_table_title\">Username</div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"search_table_title\"></div>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\">\n          <el-divider></el-divider>\n        </el-col>\n      </el-row>\n      <el-row v-for=\"(item, index) in search_result\" :key=\"index\">\n        <el-col :span=\"8\">\n          <div class=\"search_table_itme\">{{ item.userid }}</div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"search_table_itme\">{{ item.username }}</div>\n        </el-col>\n        <el-col :span=\"8\" v-if=\"is_friend === 1\">\n          <div class=\"search_table_itme\">\n            <el-button type=\"primary\" disabled>已经是好友了</el-button>\n          </div>\n        </el-col>\n        <el-col :span=\"8\" v-else-if=\"is_friend === 2\">\n          <div class=\"search_table_itme\">\n            <el-button type=\"primary\" disabled>不能添加自己哦</el-button>\n          </div>\n        </el-col>\n        <el-col :span=\"8\" v-else>\n          <div class=\"search_table_itme\">\n            <el-button type=\"primary\" @click=\"add_friend(item)\">添加</el-button>\n          </div>\n        </el-col>\n        <el-col :span=\"24\">\n          <el-divider></el-divider>\n        </el-col>\n      </el-row>\n    </el-dialog>\n    <div id=\"left\">\n      <div id=\"search_line\" class=\".col-md-3\">\n        <el-input\n          v-model=\"search_input\"\n          placeholder=\"请输入内容\"\n          @keyup.enter.native=\"search_friend\"\n          required=\"required\"\n          clearable\n        ></el-input>\n      </div>\n      <div id=\"friendsList\">\n        <el-row class=\"tac\">\n          <el-col :span=\"24\">\n            <el-menu\n              default-active=\"1\"\n              default-open=\"1\"\n              class=\"el-menu\"\n              background-color=\"#545c64\"\n              text-color=\"#fff\"\n              active-text-color=\"#ffd04b\"\n            >\n              <el-menu-item-group\n                v-for=\"(item, index) in friendsList\"\n                :key=\"index\"\n              >\n                <el-menu-item\n                  v-if=\"item.status\"\n                  class=\"friend-item\"\n                  @click=\"excheng_obj(item.userid)\"\n                  >{{ item.username }}\n                </el-menu-item>\n                <el-menu-item\n                  v-else-if=\"\n                    not_firend_active === item.userid && item.status === 0\n                  \"\n                  class=\"friend-item\"\n                  @click=\"show_friend_option(item.userid)\"\n                >\n                  <el-button\n                    type=\"success\"\n                    icon=\"el-icon-check\"\n                    circle\n                    @click=\"update_friend(item.userid)\"\n                  ></el-button>\n                  <el-button\n                    type=\"danger\"\n                    icon=\"el-icon-delete\"\n                    circle\n                    @click=\"delete_friend(item.userid)\"\n                  ></el-button>\n                </el-menu-item>\n                <el-menu-item\n                  v-else-if=\"not_friend_active !== item.userid\"\n                  class=\"friend-item\"\n                  @click=\"show_friend_option(item.userid)\"\n                  >{{ item.username }}\n                </el-menu-item>\n              </el-menu-item-group>\n            </el-menu>\n          </el-col>\n        </el-row>\n      </div>\n    </div>\n    <div id=\"right\">\n      <div id=\"show_window\" v-if=\"current_obj_id\">\n        <div id=\"show_message\">\n          <el-row>\n            <el-col :span=\"24\">\n              <div>\n                <el-button\n                  icon=\"el-icon-refresh-left\"\n                  id=\"message_get_button\"\n                  v-if=\"!message_loading\"\n                  @click=\"message_get()\"\n                >\n                </el-button>\n                <el-button\n                  v-else\n                  icon=\"el-icon-loading\"\n                  id=\"message_get_button\"\n                >\n                </el-button>\n              </div>\n            </el-col>\n          </el-row>\n          <el-row v-for=\"(item, index) in message_list\" :key=\"index\">\n            <el-col :span=\"24\" v-if=\"item.fromUserid === 1\">\n              <div class=\"show_message_date_self\">{{ item.date }}</div>\n            </el-col>\n            <el-col :span=\"24\" v-else>\n              <div class=\"show_message_date\">{{ item.date }}</div>\n            </el-col>\n            <el-col :span=\"24\" v-if=\"item.fromUserid === 1\">\n              <div class=\"show_message_text_self\">{{ item.plaintext }}</div>\n            </el-col>\n            <el-col :span=\"24\" v-else>\n              <div class=\"show_message_text\">{{ item.plaintext }}</div>\n            </el-col>\n          </el-row>\n        </div>\n        <div id=\"input_box\">\n          <textarea\n            id=\"textarea_box\"\n            name=\"\"\n            cols=\"50\"\n            placeholder=\"在这里输入\"\n            v-model=\"msg_input\"\n            autofocus\n            required=\"required\"\n          ></textarea>\n          <div id=\"submit_button\">\n            <el-button type=\"primary\" id=\"button\" @click=\"send_message()\"\n              >发送</el-button\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\naxios.defaults.withCredentials = true;\nexport default {\n  name: \"friend\",\n  data() {\n    return {\n      count: 20,\n      message_loading: false,\n      loading: false,\n      logining_userid: 0,\n      // 该list只是对应目标的消息记录。通过侧边栏更新\n      message_list: [],\n      search_input: \"\",\n      msg_input: \"\",\n      dialogFormVisible: false,\n      // 好友列表\n      friendsList: [\n        {\n          id: 8,\n          userid: 18138754,\n          username: \"usertest_not_friend\",\n          remark: \"\",\n          status: 0\n        },\n        {\n          id: 8,\n          userid: 18138755,\n          username: \"usertest_not_friend2\",\n          remark: \"\",\n          status: 0\n        },\n        {\n          id: 8,\n          userid: 18138754,\n          username: \"usertest1\",\n          remark: \"\",\n          status: 1\n        }\n      ],\n      // 搜索结果\n      search_result: [],\n      current_obj_id: 0,\n      is_friend: 0,\n      csrftoken: \"\",\n      res_data: {},\n      not_firend_active: 0,\n      temp_fromUserid: 0\n    };\n  },\n  created: function() {\n    // this.csrftoken=getCookie(\"csrftoken\")\n    // this.$cookies.set(\"logining_userid\", \"82119217\");\n\n    this.logining_userid = this.$cookies.get(\"logining_userid\");\n    // console.log(this.logining_userid)\n    if (this.logining_userid) {\n      // 获取好友列表\n      // 根据好友列表探查好友的存活\n      // 或许可以获取所有的消息记录\n      this.friendsList_flash();\n    } else {\n      this.$router.push(\"/login\");\n    }\n  },\n  computed: {},\n  methods: {\n    // 发送明文给后端加密再发送到服务器\n    // 发送消息之前需要先获取一次。防止加密顺序错乱。\n    // 异步函数需要添加 async 来使用 await\n    async send_message() {\n      await this.message_get();\n      axios\n        .get(\"http://localhost:8000/apis/friendsList/\" + this.current_obj_id)\n        .then(response => {\n          if (response.data[\"code\"] === 1) {\n            // console.log(this.msg_input),\n            axios\n              .post(\"http://localhost:8000/apis/encryptMessage/\", {\n                plaintext: this.msg_input,\n                toUserid: this.current_obj_id\n              })\n              .then(response => {\n                if (response.data[\"code\"] === 1) {\n                  this.res_data = response.data[\"data\"];\n                  axios\n                    .post(\"http://127.0.0.1:8888/apis/message/\", {\n                      fromUserid: this.res_data[\"fromUserid\"],\n                      toUserid: this.res_data[\"toUserid\"],\n                      ciphertext: this.res_data[\"message\"]\n                    })\n                    .then(response => {\n                      if (response.data[\"code\"] === 1) {\n                        axios\n                          .post(\"http://localhost:8000/apis/storeMessage/\", {\n                            fromUserid: this.res_data[\"fromUserid\"],\n                            toUserid: this.res_data[\"toUserid\"],\n                            kdf_next: this.res_data[\"kdf_next\"],\n                            EphemeralPub: this.res_data[\"message\"][\n                              \"EphemeralPub\"\n                            ],\n                            plaintext: this.res_data[\"plaintext\"]\n                          })\n                          .then(response => {\n                            if (response.data[\"code\"] === 1) {\n                              this.message_list_flash();\n                            } else {\n                              this.$notify.error({\n                                title: \"储存消息到本地失败。\",\n                                message: \"请重新发送消息。\"\n                                // type: 'success'\n                              });\n                            }\n                          });\n                      } else {\n                        this.$notify.error({\n                          title: \"上传消息到服务器失败。\",\n                          message: \"请重新发送消息。\"\n                          // type: 'success'\n                        });\n                      }\n                    });\n                } else {\n                  this.$notify.error({\n                    title: \"本地加密失败。\",\n                    message: \"请重新发送消息。\"\n                    // type: 'success'\n                  });\n                }\n                this.msg_input = \"\";\n              });\n          } else {\n            axios\n              .get(\"http://127.0.0.1:8888/apis/user/\" + id)\n              .then(response => {\n                if (response.data[\"code\"] === 1) {\n                  var get_data = response.data[\"data\"];\n                  axios.post(\"http://localhost:8000/apis/storeFriend/\", {\n                    userid: get_data[\"userid\"],\n                    username: get_data[\"username\"],\n                    remark: \"\",\n                    status: 1,\n                    IdentityPub: get_data[\"IdentityPub\"],\n                    SignedPub: get_data[\"SignedPub\"],\n                    OneTimePub: get_data[\"OneTimePub\"],\n                    EphemeralPub: get_data[\"EphemeralPub\"]\n                  });\n                }\n              })\n              .then(response => {\n                this.$notify.error({\n                  title: \"已添加好友信息到数据库\",\n                  message: \"请重新输入。\"\n                  // type: 'success'\n                });\n              });\n          }\n        });\n    },\n    // 只能通过刷新消息列表来完成接收消息了\n    message_get() {\n      this.message_loading = true;\n      axios.get(\"http://127.0.0.1:8888/apis/message/\").then(response => {\n        if (response.data[\"code\"] === 1) {\n          get_data = response.data[\"data\"];\n          // 循环解析数据包，判断消息源是否为好友并处理\n          for (var i = 0; i < get_data.length; i++) {\n            // 返回的列表中的数据的某一个数据包的来源\n            this.temp_fromUserid = get_data[i][fromUserid];\n            axios\n              .get(\n                \"http://localhost:8000/apis/friendsList\" + int(temp_fromUserid)\n              )\n              .then(response => {\n                if (response.data[\"code\"] === 1) {\n                  // 说明消息来源是好友\n                  // 是好友的话就可以直接解密了\n                } else {\n                  // 消息来源不是好友\n                  // 添加到数据库，但是status为0\n                  axios\n                    .get(\"http://127.0.0.1:8888/user/\" + int(temp_fromUserid))\n                    .then(response => {\n                      if (response.data[\"code\"] === 1) {\n                        // 获取目标服务器信息9-***\n                        var post_data = response.data[\"data\"];\n                        // 保存到好友数据库并设置status为0\n                        axios\n                          .post(\"http://localhost:8000/apis/sotre_friend/\", {\n                            userid: post_data[\"userid\"],\n                            username: post_data[\"username\"],\n                            remark: \"\",\n                            status: 0,\n                            IdentityPub: post_data[\"IdentityPub\"],\n                            SignedPub: post_data[\"SignedPub\"],\n                            OneTimePub: post_data[\"OneTimePub\"],\n                            EphemeralPub: post_data[\"EphemeralPub\"]\n                          })\n                          .then(response => {\n                            if (response.data[\"code\"] === 1) {\n                              this.$notify({\n                                title: \"待定好友添加成功\",\n                                // message: \"请重新获取。\",\n                                type: \"success\"\n                              });\n                            } else {\n                              this.$notify.error({\n                                title: \"待定好友添加失败。\",\n                                message: \"请重新获取。\"\n                                // type: 'success'\n                              });\n                            }\n                          });\n                      } else {\n                        this.$notify.error({\n                          title: \"获取服务器记录失败。\",\n                          message: \"请重新获取。\"\n                          // type: 'success'\n                        });\n                      }\n                    });\n                }\n              });\n          }\n          // 好友已经都添加了\n          // 这里两个for循环应该是可以错开的。\n          for (var i = 0; i < post_data.length; i++) {\n            // 开始解密，单个数据包传给 decryptMessage\n          }\n          // axios\n          //   .post(\"http://127.0.0.1:8000/apis/message_parse/\", {\n          //     server_data: get_data\n          //   })\n          //   .then(response => {\n\n          //   });\n        } else {\n          this.$notify.error({\n            title: \"获取服务器记录失败。\",\n            message: \"请重新获取。\"\n            // type: 'success'\n          });\n        }\n      });\n    },\n    // 切换当前对话目标，获取该目标的消息\n    excheng_obj(id) {\n      // console.log(id)\n      this.current_obj_id = id;\n      this.not_firend_active = 0;\n      this.message_list_flash();\n    },\n    message_list_flash() {\n      axios\n        .get(\n          \"http://localhost:8000/apis/filterMessages/\" + this.current_obj_id,\n          {\n            headers: {\n              // \"logining_userid\":this.logining_userid\n            }\n          }\n        )\n        .then(response => {\n          if (response.data[\"code\"] === 1) {\n            // console.log(response.data);\n            this.message_list = response.data[\"data\"];\n            // console.log(this.message_list);\n          } else {\n            this.$notify.error({\n              title: \"获取历史记录失败，或者记录为空。\",\n              message: \"刷新一下。\"\n              // type: 'success'\n            });\n          }\n        });\n    },\n    // 对应搜索栏，启动搜索\n    search_friend() {\n      // console.log(this.search_result)\n      this.search_result = [];\n      axios\n        .get(\"http://127.0.0.1:8888/apis/user/\" + this.search_input)\n        .then(response => {\n          if (response.data[\"code\"] === 1) {\n            // console.log(response.data[\"data\"])\n            // 返回结果应该是只有一个\n            this.search_result.push(response.data[\"data\"]);\n            if (\n              this.search_result[0][\"userid\"] === parseInt(this.logining_userid)\n            ) {\n              this.is_friend = 2;\n            } else {\n              this.is_friend = 0;\n            }\n            for (var i = 0; i < this.friendsList.length; i++) {\n              // console.log(this.search_result)\n              if (\n                this.friendsList[i][\"userid\"] ===\n                this.search_result[0][\"userid\"]\n              ) {\n                this.is_friend = 1;\n              } else {\n                this.is_friend = 0;\n              }\n            }\n          } else {\n            this.$notify.error({\n              title: \"搜索失败！\",\n              message: \"请稍后重试。\"\n              // type: 'success'\n            });\n          }\n        });\n      this.dialogFormVisible = true;\n    },\n    friendsList_flash() {\n      axios\n        .get(\"http://localhost:8000/apis/friendsList/\", {\n          headers: {\n            // \"logining_userid\":this.logining_userid\n          }\n        })\n        .then(response => {\n          if (response.data[\"code\"] === 1) {\n            // console.log(response.data)\n            this.friendsList = response.data[\"data\"];\n          } else {\n            this.$notify.error({\n              title: \"获取好友列表失败，或者好友列表为空。\",\n              message: \"重启一下应用看看？\"\n              // type: 'success'\n            });\n          }\n        });\n    },\n    show_friend_option(index) {\n      this.not_firend_active = index;\n      this.current_obj_id = 0;\n      // console.log(index);\n      // document.getElementById(\"not_friend\");\n    },\n    // 对应搜索栏的结果添加好友操作\n    add_friend(fri_item) {\n      // console.log(fri_item)\n      axios\n        .post(\"http://localhost:8000/apis/storeFriend/\", {\n          userid: fri_item.userid,\n          username: fri_item.username,\n          remark: \"\",\n          status: 1,\n          IdentityPub: fri_item.IdentityPub,\n          SignedPub: fri_item.SignedPub,\n          OneTimePub: fri_item.OneTimePub,\n          EphemeralPub: fri_item.EphemeralPub,\n          headers: {\n            // \"X-CSRFToken\":this.csrftoken\n          }\n        })\n        .then(response => {\n          if (response.data[\"code\"] === 1) {\n            this.dialogFormVisible = false;\n            this.$notify({\n              title: \"添加成功！\",\n              message: \"已将好友添加到列表。\",\n              type: \"success\"\n            });\n            this.friendsList_flash();\n          } else {\n            this.dialogFormVisible = false;\n            this.$notify.error({\n              title: \"添加失败！\",\n              message: \"请稍后重试。\"\n              // type: 'success'\n            });\n          }\n        });\n    }\n  },\n  update_friend(userid) {\n    axios\n      .put(\"http://localhost:8000/apis/storeFriend/\", {\n        userid: userid\n      })\n      .then(response => {\n        if (response.data[\"code\"] === 1) {\n          this.$notify({\n            title: \"添加成功！\",\n            // message: \"请稍后重试\"\n            type: \"success\"\n          });\n        } else {\n          this.$notify.error({\n            title: \"添加失败！\",\n            message: \"请稍后重试。\"\n            // type: 'success'\n          });\n        }\n      });\n  },\n  delete_friend(userid) {\n    axios\n      .delete(\"http://localhost:8000/apis/storeFriend/\", {\n        userid: userid\n      })\n      .then(response => {\n        if (response.data[\"code\"] === 1) {\n          this.$notify({\n            title: \"删除成功！\",\n            // message: \"请稍后重试\"\n            type: \"success\"\n          });\n        } else {\n          this.$notify.error({\n            title: \"删除失败！\",\n            message: \"请稍后重试。\"\n            // type: 'success'\n          });\n        }\n      });\n  },\n  watch: {\n    current_obj_id: function(val, newval) {\n      // console.log(\"watch me\")\n    }\n  }\n};\n</script>\n<style scoped src=\"../assets/index.css\"></style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('el-dialog',{attrs:{\"title\":\"搜索结果\",\"visible\":_vm.dialogFormVisible,\"modal-append-to-body\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[(!_vm.search_result.length)?_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"search_table_title\"},[_vm._v(\"没有该用户相关信息\")])])],1):_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"search_table_title\"},[_vm._v(\"ID\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"search_table_title\"},[_vm._v(\"Username\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"search_table_title\"})])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-divider')],1)],1),_vm._v(\" \"),_vm._l((_vm.search_result),function(item,index){return _c('el-row',{key:index},[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"search_table_itme\"},[_vm._v(_vm._s(item.userid))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"search_table_itme\"},[_vm._v(_vm._s(item.username))])]),_vm._v(\" \"),(_vm.is_friend === 1)?_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"search_table_itme\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":\"\"}},[_vm._v(\"已经是好友了\")])],1)]):(_vm.is_friend === 2)?_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"search_table_itme\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":\"\"}},[_vm._v(\"不能添加自己哦\")])],1)]):_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"search_table_itme\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.add_friend(item)}}},[_vm._v(\"添加\")])],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('el-divider')],1)],1)})],2),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"left\"}},[_c('div',{staticClass:\".col-md-3\",attrs:{\"id\":\"search_line\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"required\":\"required\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search_friend($event)}},model:{value:(_vm.search_input),callback:function ($$v) {_vm.search_input=$$v},expression:\"search_input\"}})],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"friendsList\"}},[_c('el-row',{staticClass:\"tac\"},[_c('el-col',{attrs:{\"span\":24}},[_c('el-menu',{staticClass:\"el-menu\",attrs:{\"default-active\":\"1\",\"default-open\":\"1\",\"background-color\":\"#545c64\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\"}},_vm._l((_vm.friendsList),function(item,index){return _c('el-menu-item-group',{key:index},[(item.status)?_c('el-menu-item',{staticClass:\"friend-item\",on:{\"click\":function($event){return _vm.excheng_obj(item.userid)}}},[_vm._v(_vm._s(item.username)+\"\\n              \")]):(\n                  _vm.not_firend_active === item.userid && item.status === 0\n                )?_c('el-menu-item',{staticClass:\"friend-item\",on:{\"click\":function($event){return _vm.show_friend_option(item.userid)}}},[_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-check\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.update_friend(item.userid)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.delete_friend(item.userid)}}})],1):(_vm.not_friend_active !== item.userid)?_c('el-menu-item',{staticClass:\"friend-item\",on:{\"click\":function($event){return _vm.show_friend_option(item.userid)}}},[_vm._v(_vm._s(item.username)+\"\\n              \")]):_vm._e()],1)}),1)],1)],1)],1)]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"right\"}},[(_vm.current_obj_id)?_c('div',{attrs:{\"id\":\"show_window\"}},[_c('div',{attrs:{\"id\":\"show_message\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',[(!_vm.message_loading)?_c('el-button',{attrs:{\"icon\":\"el-icon-refresh-left\",\"id\":\"message_get_button\"},on:{\"click\":function($event){return _vm.message_get()}}}):_c('el-button',{attrs:{\"icon\":\"el-icon-loading\",\"id\":\"message_get_button\"}})],1)])],1),_vm._v(\" \"),_vm._l((_vm.message_list),function(item,index){return _c('el-row',{key:index},[(item.fromUserid === 1)?_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"show_message_date_self\"},[_vm._v(_vm._s(item.date))])]):_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"show_message_date\"},[_vm._v(_vm._s(item.date))])]),_vm._v(\" \"),(item.fromUserid === 1)?_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"show_message_text_self\"},[_vm._v(_vm._s(item.plaintext))])]):_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"show_message_text\"},[_vm._v(_vm._s(item.plaintext))])])],1)})],2),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"input_box\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msg_input),expression:\"msg_input\"}],attrs:{\"id\":\"textarea_box\",\"name\":\"\",\"cols\":\"50\",\"placeholder\":\"在这里输入\",\"autofocus\":\"\",\"required\":\"required\"},domProps:{\"value\":(_vm.msg_input)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.msg_input=$event.target.value}}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"submit_button\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"id\":\"button\"},on:{\"click\":function($event){return _vm.send_message()}}},[_vm._v(\"发送\")])],1)])]):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0883a56f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0883a56f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../assets/index.css\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0883a56f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0883a56f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Index.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"login-container\">\n    <el-dialog title=\"没有私钥信息，请输入私钥信息！\" :visible.sync=\"dialogFormVisible\">\n      <el-form :model=\"FormPrikey\">\n        <el-form-item label=\"IdentityPri\">\n          <el-input v-model=\"FormPrikey.IdentityPri\" autocomplete=\"off\" required=\"required\"/>\n        </el-form-item>\n        <el-form-item label=\"SignedPri\">\n          <el-input v-model=\"FormPrikey.SignedPri\" autocomplete=\"off\" required=\"required\"/>\n        </el-form-item>\n        <el-form-item label=\"OneTimePri\">\n          <el-input v-model=\"FormPrikey.OneTimePri\" autocomplete=\"off\" required=\"required\"/>\n        </el-form-item>\n        <el-form-item label=\"EphemeralPri\">\n          <el-input v-model=\"FormPrikey.EphemeralPri\" autocomplete=\"off\" required=\"required\"/>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"updated_pri()\">确 定</el-button>\n      </div>\n    </el-dialog>\n    <el-form :model=\"FormLogin\" status-icon ref=\"ruleForm2\" label-position=\"left\" label-width=\"0px\"\n             class=\"demo-ruleForm login-page\" v-if=\"!isreg\">\n      <el-button type=\"primary\" class=\"login-button-left\" @click.native=\"login\">登录</el-button>\n      <el-button type=\"primary\" class=\"login-button-right\" @click.native=\"regis\">注册</el-button>\n      <el-form-item prop=\"userid\">\n        <el-input type=\"text\" v-model=\"FormLogin.userid\" auto-complete=\"off\" placeholder=\"请使用注册成功的ID登录\"\n                  required=\"required\"/>\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input type=\"password\" v-model=\"FormLogin.password\" auto-complete=\"off\" placeholder=\"密码\"\n                  required=\"required\"/>\n      </el-form-item>\n      <el-form-item style=\"width:100%;\">\n        <el-button type=\"primary\" style=\"width:100%;\" @click=\"Login\">登录</el-button>\n      </el-form-item>\n    </el-form>\n    <el-form :model=\"FormReg\" status-icon ref=\"ruleForm2\" label-position=\"left\" label-width=\"0px\"\n             class=\"demo-ruleForm login-page\" v-else>\n      <el-button type=\"primary\" class=\"login-button-left\" @click=\"login\">登录</el-button>\n      <el-button type=\"primary\" class=\"login-button-right\" @click=\"regis\">注册</el-button>\n      <el-form-item prop=\"username\">\n        <el-input type=\"text\" v-model=\"FormReg.username\" auto-complete=\"off\" placeholder=\"用户名\"\n                  required=\"required\"/>\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input type=\"password\" v-model=\"FormReg.password\" auto-complete=\"off\" placeholder=\"密码\"\n                  required=\"required\"/>\n      </el-form-item>\n      <el-form-item style=\"width:100%;\">\n        <el-button type=\"primary\" style=\"width:100%;\" @click=\"Register\">注册</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\"\n  import sha256 from \"js-sha256\"\n\n  \n  function getCookie(cookieName) {\n    var strCookie = document.cookie;\n    var arrCookie = strCookie.split(\"; \");\n    for(var i = 0; i < arrCookie.length; i++){\n      var arr = arrCookie[i].split(\"=\");\n      if(cookieName == arr[0]){\n          return arr[1];\n      }\n    }\n    return \"\";\n  }\n  export default {\n    data() {\n      return {\n        dialogFormVisible: false,\n        // server_csrf: \"\",\n        // client_csrf: \"\",\n        isreg: 0,\n        FormLogin: {\n          userid: '',\n          password: '',\n        },\n        FormReg: {\n          username: '',\n          password: '',\n          IdentityPub: '',\n          SignedPub: '',\n          OneTimePub: '',\n          EphemeralPub:'',\n          IdentityPri: \"\",\n          SignedPri: \"\",\n          OneTimePri: \"\",\n          EphemeralPri:\"\",\n        },\n        FormPrikey: {\n          IdentityPri: \"\",\n          SignedPri: \"\",\n          OneTimePri: \"\",\n          EphemeralPri:\"\"\n        },\n        keys: {},\n        csrftoken:\"\",\n      }\n    },\n    // 查询是否有已登录的账号\n    created: function () {\n      // this.$cookies.set(\"logining_userid\", \"82119217\")\n      var logging_cookie = this.$cookies.get(\"logining_userid\");\n      if (logging_cookie) {\n        this.$router.push(\"/\")\n      }\n      // axios.get(\"http://localhost:8000/apis/gettoken/\")\n      // this.csrftoken=getCookie(\"csrftoken\")\n      // console.log(this.csrftoken)\n    },\n    methods: {\n      login() {\n        this.isreg = 0;\n        this.FormReg.username = '';\n        this.FormReg.password = '';\n        this.FormLogin.userid = '';\n        this.FormLogin.password = ''\n      },\n      regis() {\n        this.isreg = 1;\n        this.FormLogin.userid = '';\n        this.FormLogin.password = '';\n        this.FormReg.username = '';\n        this.FormReg.password = ''\n      },\n      Login() {\n        axios.get(\"http://localhost:8000/apis/getUser/\" + this.FormLogin.userid).then((response) => {\n          // console.log(response.data[\"code\"]);\n          if (response.data[\"code\"] === 1) {\n            var temp_data=response.data[\"data\"][0]\n            if (typeof temp_data[\"IdentityPri\"] !== \"undefined\") {\n              axios.post(\"http://127.0.0.1:8888/apis/user/\" + this.FormLogin.userid, {\n                \"password\": sha256(this.FormLogin.password),\n                headers:{\n                  // \"X-CSRFToken\":this.csrftoken\n                }\n              }).then((response) => {\n                // console.log(response.data)\n                if (response.data[\"code\"] === 1) {\n                  this.$cookies.set(\"logining_userid\",response.data[\"data\"][\"userid\"]);\n                  this.$cookies.set(\"SameSite\",\"Lax\")\n                  this.$router.push(\"/\")\n                } else {\n                  this.$notify.error({\n                    title: '登录失败！',\n                    message: '请重新登录',\n                    // type: 'success'\n                  });\n                }\n              })\n            } else {\n              this.dialogFormVisible = true\n            }\n          } else {\n            this.dialogFormVisible = true\n          }\n        })\n      },\n      updated_pri() {\n        this.dialogFormVisible = false\n        // 先检查私钥的格式是否有误\n        axios.post(\"http://localhost:8000/apis/checkPri/\", {\n          \"IdentityPri\": this.FormPrikey.IdentityPri,\n          \"SignedPri\": this.FormPrikey.SignedPri,\n          \"OneTimePri\": this.FormPrikey.OneTimePri,\n          \"EphemeralPri\":this.FormPrikey.EphemeralPri,\n          headers:{\n            // \"X-CSRFToken\":this.csrftoken\n          }\n        }).then((response) => {\n          // console.log(response.data[\"data\"])\n          if (response.data[\"code\"] === 1) {\n            // 返回的数据包括私钥字符串和公钥字符串\n            this.keys = response.data[\"data\"];\n            axios.get(\"http://127.0.0.1:8888/apis/user/\" + this.FormLogin.userid).then((response) => {\n              if (response.data[\"code\"] === 1) {\n                const username_t = response.data[\"data\"][\"username\"];\n                axios.post(\"http://localhost:8000/apis/storeUser\", {\n                  userid: this.FormLogin.userid, username: username_t,\n                  IdentityPub: this.keys[\"IdentityPub\"], SignedPub: this.keys[\"SignedPub\"],\n                  OneTimePub: this.keys[\"OneTimePub\"], EphemeralPub: this.keys[\"EphemeralPub\"],\n                  IdentityPri: this.keys[\"IdentityPri\"], SignedPri: this.keys[\"SignedPri\"],\n                  OneTimePri: this.keys[\"OneTimePri\"], EphemeralPri: this.keys[\"EphemeralPri\"],\n                  headers:{\n                    // \"X-CSRFToken\":this.csrftoken\n                  }\n                }).then((response) => {\n                  if (response.data[\"code\"] === 1) {\n                    this.$notify({\n                      title: '已将当前用户添加到数据库',\n                      message: '请重新登录',\n                      type: 'success'\n                    });\n                  } else {\n                    this.$notify.error({\n                      title: '保存用户密钥出错！',\n                      message: '请重新登录',\n                      // type: 'success'\n                    });\n                  }\n                })\n              } else {\n                this.$notify.error({\n                  title: '服务器获取用户信息失败！',\n                  message: '请重新登录',\n                  // type: 'success'\n                });\n              }\n            });\n          } else {\n            this.$notify.error({\n              title: '私钥格式有误！',\n              message: '请重新登录',\n              // type: 'success'\n            });\n          }\n        })\n      },\n      Register() {\n        axios.post(\"http://localhost:8000/apis/createNewKeyspair/\", {\n          headers: {\n            // \"X-CSRFToken\":this.csrftoken,\n          }\n        }).then((response) => {\n          var pubs = response.data[\"data\"];\n          // console.log(response.data[\"data\"]);\n          this.FormReg.IdentityPub = pubs[\"IdentityPub\"];\n          this.FormReg.SignedPub = pubs[\"SignedPub\"];\n          this.FormReg.OneTimePub = pubs[\"OneTimePub\"];\n          this.FormReg.EphemeralPub=pubs[\"EphemeralPub\"];\n          this.FormReg.IdentityPri = pubs[\"IdentityPri\"];\n          this.FormReg.SignedPri = pubs[\"SignedPri\"];\n          this.FormReg.OneTimePri = pubs[\"OneTimePri\"];\n          this.FormReg.EphemeralPri = pubs[\"EphemeralPri\"];\n          axios.post(\"http://127.0.0.1:8888/apis/user/\", {\n            \"username\": this.FormReg.username,\n            \"password\": sha256(this.FormReg.password),\n            \"IdentityPub\": this.FormReg.IdentityPub,\n            \"SignedPub\": this.FormReg.SignedPub,\n            \"OneTimePub\": this.FormReg.OneTimePub,\n            \"EphemeralPub\": this.FormReg.EphemeralPub,\n            headers:{\n              // \"X-CSRFToken\":this.csrftoken\n            }\n          }).then((response) => {\n            // console.log(response.data);\n            if (response.data[\"code\"]) {\n              const h = this.$createElement;\n              this.$notify({\n                title: '注册成功的ID:',\n                message: h('i', {\n                  style: 'color: teal'\n                }, response.data[\"data\"]),\n                type: 'success',\n                duration: 0\n              });\n              axios.post(\"http://localhost:8000/apis/storeUser/\", {\n                \"userid\": response.data[\"data\"],\n                \"username\": this.FormReg.username,\n                \"IdentityPub\": this.FormReg.IdentityPub,\n                \"SignedPub\": this.FormReg.SignedPub,\n                \"OneTimePub\": this.FormReg.OneTimePub,\n                \"EphemeralPub\": this.FormReg.EphemeralPub,\n                \"IdentityPri\": this.FormReg.IdentityPri,\n                \"SignedPri\": this.FormReg.SignedPri,\n                \"OneTimePri\": this.FormReg.OneTimePri,\n                \"EphemeralPri\": this.FormReg.EphemeralPri,\n                headers:{\n                  // \"X-CSRFToken\":this.csrftoken\n                }\n              });\n              this.isreg = 0;\n              this.FormLogin.userid = ''\n              this.FormLogin.password = ''\n              this.FormReg.username = ''\n              this.FormReg.password = ''\n            } else {\n              this.$notify.error({\n                title: '注册失败！',\n                message: '请重新注册',\n                // type: 'success'\n              });\n            }\n          })\n        })\n      }\n    }\n  };\n\n</script>\n\n<style scoped>\n  .login-container {\n    width: 100%;\n    height: 100%;\n  }\n\n  .login-page {\n    -webkit-border-radius: 5px;\n    border-radius: 5px;\n    margin: 180px auto 0px auto;\n    width: 350px;\n    padding: 35px 35px 15px;\n    background: #fff;\n    border: 1px solid #eaeaea;\n    box-shadow: 0 0 25px #cac6c6;\n  }\n\n\n  .login-button-left {\n    width: 165px;\n    margin: 0px 5px 10px 0px;\n  }\n\n  .login-button-right {\n    width: 165px;\n    margin: 0px 0px 10px 5px;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('el-dialog',{attrs:{\"title\":\"没有私钥信息，请输入私钥信息！\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.FormPrikey}},[_c('el-form-item',{attrs:{\"label\":\"IdentityPri\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"required\":\"required\"},model:{value:(_vm.FormPrikey.IdentityPri),callback:function ($$v) {_vm.$set(_vm.FormPrikey, \"IdentityPri\", $$v)},expression:\"FormPrikey.IdentityPri\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"SignedPri\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"required\":\"required\"},model:{value:(_vm.FormPrikey.SignedPri),callback:function ($$v) {_vm.$set(_vm.FormPrikey, \"SignedPri\", $$v)},expression:\"FormPrikey.SignedPri\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"OneTimePri\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"required\":\"required\"},model:{value:(_vm.FormPrikey.OneTimePri),callback:function ($$v) {_vm.$set(_vm.FormPrikey, \"OneTimePri\", $$v)},expression:\"FormPrikey.OneTimePri\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"EphemeralPri\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"required\":\"required\"},model:{value:(_vm.FormPrikey.EphemeralPri),callback:function ($$v) {_vm.$set(_vm.FormPrikey, \"EphemeralPri\", $$v)},expression:\"FormPrikey.EphemeralPri\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updated_pri()}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),(!_vm.isreg)?_c('el-form',{ref:\"ruleForm2\",staticClass:\"demo-ruleForm login-page\",attrs:{\"model\":_vm.FormLogin,\"status-icon\":\"\",\"label-position\":\"left\",\"label-width\":\"0px\"}},[_c('el-button',{staticClass:\"login-button-left\",attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.login($event)}}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"login-button-right\",attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.regis($event)}}},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"userid\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\",\"placeholder\":\"请使用注册成功的ID登录\",\"required\":\"required\"},model:{value:(_vm.FormLogin.userid),callback:function ($$v) {_vm.$set(_vm.FormLogin, \"userid\", $$v)},expression:\"FormLogin.userid\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\",\"placeholder\":\"密码\",\"required\":\"required\"},model:{value:(_vm.FormLogin.password),callback:function ($$v) {_vm.$set(_vm.FormLogin, \"password\", $$v)},expression:\"FormLogin.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"100%\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.Login}},[_vm._v(\"登录\")])],1)],1):_c('el-form',{ref:\"ruleForm2\",staticClass:\"demo-ruleForm login-page\",attrs:{\"model\":_vm.FormReg,\"status-icon\":\"\",\"label-position\":\"left\",\"label-width\":\"0px\"}},[_c('el-button',{staticClass:\"login-button-left\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"login-button-right\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.regis}},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\",\"placeholder\":\"用户名\",\"required\":\"required\"},model:{value:(_vm.FormReg.username),callback:function ($$v) {_vm.$set(_vm.FormReg, \"username\", $$v)},expression:\"FormReg.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\",\"placeholder\":\"密码\",\"required\":\"required\"},model:{value:(_vm.FormReg.password),callback:function ($$v) {_vm.$set(_vm.FormReg, \"password\", $$v)},expression:\"FormReg.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"100%\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.Register}},[_vm._v(\"注册\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4459f733\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4459f733\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4459f733\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4459f733\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Index from '@/components/Index'\nimport Login from '@/components/Login'\n\nVue.use(Router);\n\nexport default new Router({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    name: 'Index',\n    component: Index\n  }, {\n    path: '/login',\n    name: 'Login',\n    component: Login\n  }]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\n\nimport VueCookies from 'vue-cookies'\nVue.use(VueCookies)\nVue.use(ElementUI);\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: {\n    App\n  },\n  template: '<App/>'\n});\n\nVue.prototype.message_list_flash = function message_list_flash() {\n  axios.get(\"http://localhost:8000/apis/filter_messages/\" + this.current_obj_id, {\n    headers: {\n      // \"logining_userid\":this.logining_userid\n    }\n  }).then((response) => {\n    if (response.data[\"code\"] === 1) {\n      // console.log(response.data)\n      this.message_list = response.data[\"data\"]\n    } else {\n      this.$notify.error({\n        title: '获取历史记录失败。',\n        message: '刷新一下。',\n        // type: 'success'\n      });\n    }\n  })\n}\n\nVue.prototype.friends_list_flash = function friends_list_flash() {\n  axios.get(\"http://localhost:8000/apis/friends_list/\", {\n    headers: {\n      // \"logining_userid\":this.logining_userid\n    }\n  }).then((response) => {\n    if (response.data[\"code\"] === 1) {\n      // console.log(response.data)\n      this.friends_list = response.data[\"data\"]\n    } else {\n      this.$notify.error({\n        title: '获取好友列表失败，或者好友列表为空。',\n        message: '重启一下应用看看？',\n        // type: 'success'\n      });\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}